(this["webpackJsonphooks-movie-app"]=this["webpackJsonphooks-movie-app"]||[]).push([[0],{17:function(e,t,r){e.exports=r.p+"static/media/wrong.d014957d.svg"},18:function(e,t,r){e.exports=r(43)},23:function(e,t,r){},42:function(e,t,r){},43:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(14),c=r.n(o),i=(r(23),r(4)),l=r.n(i),s=r(15),u=r(16),m=r.n(u),p=r(3),f=r(2);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(e,t){switch(t.type){case"SEARCH_MOVIE":return h({},e,{loading:!0});case"SET_MOVIE":return h({},e,{movies:t.payload,error:!1,loading:!1});case"SEARCH_MOVIE_ERROR":return h({},e,{error:!0});default:throw new Error("Unexpected Action")}};function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y={loading:!1,movies:[],error:!1},g=Object(n.createContext)(v({},y,{dispatch:function(){}})),E=(g.Consumer,g.Provider),w=function(){return a.a.createElement("div",{className:"header"},"React Hooks Movies App")},j=function(e){var t=e.movie;return a.a.createElement("div",{"data-testid":"movie-list",onClick:function(){window.open("https://imdb.com/title/".concat(t.imdbID),"_blank")},className:"movie-list__item",key:t.imdbID},a.a.createElement("img",{src:"N/A"===t.Poster?"http://www.movienewz.com/img/films/poster-holder.jpg":t.Poster,alt:t.Title}),a.a.createElement("p",{className:"movie-list__item-title"},t.Title),a.a.createElement("p",{className:"movie-list__item-year"},t.Year))},P=function(e){var t=e.onSubmit,r=e.placeholder,o=Object(n.useState)(""),c=Object(p.a)(o,2),i=c[0],l=c[1];return a.a.createElement("div",{className:"search"},a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(""),t(i)}},a.a.createElement("input",{"data-testid":"movie-search-input",type:"text",onChange:function(e){return l(e.target.value)},value:i,placeholder:r}),a.a.createElement("button",{"data-testid":"movie-search-button"},"Search")))};function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=function(e){var t=e.width,r=e.height,n=e.style,o=void 0===n?{}:n;return a.a.createElement("div",{className:"shimmer",style:Object.assign({},{width:t,height:r},k({},o))})},D=r(17),R=r.n(D),x=(r(42),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"man";return"https://www.omdbapi.com/?s=".concat(e,"&apikey=4a3b711b")}),I=function(){var e=Object(n.useContext)(g),t=e.dispatch,r=e.movies,o=e.loading,c=e.error,i=function(){var e=Object(s.a)(l.a.mark((function e(r){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SEARCH_MOVIE"}),e.prev=1,e.next=4,m.a.get(x(r));case 4:if(n=e.sent,"True"!==(a=n.data).Response){e.next=8;break}return e.abrupt("return",t({type:"SET_MOVIE",payload:a.Search}));case 8:t({type:"SEARCH_MOVIE_ERROR"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:"SEARCH_MOVIE_ERROR"});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){i()}),[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(w,null),a.a.createElement(P,{onSubmit:function(e){i(e)},placeholder:"Search your movies..."}),c?a.a.createElement((function(){return a.a.createElement("div",{"data-testid":"movie-error",style:{marginTop:28,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},a.a.createElement("img",{src:R.a,width:"600",alt:"Something went wrong"}),a.a.createElement("h1",null,"Something went wrong"))}),null):a.a.createElement("div",{"data-testid":"movie-container",className:"movie-list__container"},o?a.a.createElement((function(){return a.a.createElement(a.a.Fragment,null,Array(10).fill("").map((function(e,t){return a.a.createElement("div",{"data-testid":"movie-loading",key:t,style:{marginBottom:18,flexDirection:"column",display:"flex",alignItems:"center"}},a.a.createElement(_,{width:245,height:390,style:{marginBottom:6}}),a.a.createElement(_,{width:145,height:10,style:{marginBottom:6}}),a.a.createElement(_,{width:70,height:10}))})))}),null):r.map((function(e){return a.a.createElement(j,{movie:e,key:e.imdbID})}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement((function(e){var t=e.children,r=Object(n.useReducer)(O,y),o=Object(p.a)(r,2),c=o[0],i=o[1];return a.a.createElement(E,{value:v({},c,{dispatch:i})},t)}),null,a.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.357c30e8.chunk.js.map